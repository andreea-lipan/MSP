// Note: this is not working yet

method M(n: Int) returns (r: Int) 
    requires n > 0
    ensures 100 < n ==> r == n - 10
    ensures n <= 100 ==> r == 91
{
    var z: Int := n - res                   // variant      
    assert z >= 0                           // variant

    if (n > 100) {
        r := n - 10
    } else {
        r := M(n + 11)
        r := M(r)
    }

    assert n - res >= 0                     // variant
    assert n - res < z                      // variant
}